<!DOCTYPE html>
<html>
  <head>
    <title>Haylee Go</title>
    <link rel="icon" href="assets/haylee-logo-192x192.png" sizes="192x192" />
    <link rel="stylesheet" href="assets/haylee-go.css" type="text/css" />
  </head>

<body>
  <div class="container">
    <h1>Welcome to Haylee Go</h1>

    <canvas id="myboard" style="border:2px solid #000000;">
      If the browser can't display the canvas, this text is rendered.
    </canvas>

    <script src="assets/canvas.js"></script>
    <script>
      var board_js = {{ RUNNING_BOARD }};
      updateBoard(board_js);
    </script>

  <div id="illegal_move_message" style="display: none;"><br><br>Illegal move. Try again?</div>

  <div id="result" style="display: none;">Result</div>

  <div id="greeting_message"><br><br><h3>Hello! How about a nice game of Go?</h3></div>

  <div id="remove" style="display: none;">Select dead stones:
  <input id="remove_this" type="text" name="dead">
  <input type="submit" onclick="removeXHR(document.getElementById('remove_this').value)" style="background-color:#557A95;color:white;font-size:100%"></div>

  <div id="turn" style="display: block"><h4>BLACK to play: Play or Pass!</h4></div>

  <button id="pass" type="button" onclick="passXHR()" style="background-color:#5D5C61;color:white;font-size:120%;display: inline-block">Pass</button>

  <button id="resign" type="button" onclick="resignXHR()" style="background-color:#ADADAD;color:white;font-size:120%;display: inline-block">Resign</button>

  <button type="button" onclick="newGameXHR()" style="background-color:#B1A296;color:white;font-size:120%">New Game</button>

  <div style="display: block"><br>Upload SGF:
  <input id="sgf_upload_file" type="file" name="sgf" accept=".sgf" onchange="sgf_upload_go(this);" style="display: none;">
  <button id="sgf_upload_button" onclick="sgf_upload_start(event);" style="background-color:#7395AE;color:white;font-size:100%">Choose File</div>

  <script>
  // supporting code for SGF uploads
  function sgf_upload_start(event) {
      event.stopPropagation();
      event.preventDefault();
      var input_file = document.getElementById('sgf_upload_file');
      input_file.click();
  };
  function sgf_upload_go(input_file) {
      if(input_file.files.length < 1) { return; }

      var file = input_file.files[0];
      if(file.size > 1024*1024) {
 	        window.alert("File is too large (max 1MB).");
 	        return;
      }
      var reader = new FileReader();

      // clear the files list so that user can re-upload a file by the same name,
      // and onchange will still fire.
      input_file.value = '';

      reader.onload = function(evt) {
         uploadSGFXHR(evt.target.result);
      };
      reader.readAsText(file);
  }
  </script>
</div>
</body>
</html>
